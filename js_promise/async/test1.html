<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- https://www.youtube.com/watch?v=huipRwNlOi4&list=PLmOn9nNkQxJF-I5BK-wNUnsBkuLXUumhr&index=43 -->
    <script>

        //跟then返回結果一樣

        /*-----async-----*/
        async function main(){
            //1.返回非Promise類型的數據 狀態fulfilled成功
            //return 555; 

            //2.返回是一個promise對象
            return new Promise((resolve,reject)=>{
                resolve('ok') //狀態fulfilled成功
              // reject('ee') //狀態rejected
            })

            //3.拋出異常
            //throw 'aaa'  //狀態rejected
        }
        let result=main();
        console.log(result);

        console.log('-----------------');


        /*-----await 後面放一個promise對象-----*/
        async function main2(){
            
            // 1.右側為promise的情況
            let p= new Promise((resolve,reject)=>{
                resolve('ok')
            })
            let res=await p;
            console.log(res)

            //2.右側為其他類型的數據(很少見)
            let res2=await 20;
            console.log(res2)

            //3.promise是失敗的狀態
            let p2= new Promise((resolve,reject)=>{
                reject('error')
            })
            try{
                let res3=await p2;
            }catch(e){
                console.log(e)
            }
        }
        let result2= main2();
        console.log(result2);



    </script>
</body>
</html>